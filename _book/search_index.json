[["index.html", "Modelo Predictivo de la Deserción en la Educación Media Superior Prefacio", " Modelo Predictivo de la Deserción en la Educación Media Superior Valeria &amp; Juan Carlos 2021-12-01 Prefacio “La comprensión se utiliza con más frecuencia para tratar de alterar el resultado que para repetirlo o perpetuarlo” — Jared Diamond Este documento tiene la finalidad utilizar aprendizaje de máquina para identificar y predecir la frecuencia de factores que condicionan la deserción en la educación media. Toma como eje el trabajo publicado en 2012, denominado “Reporte de la Encuesta Nacional de Deserción en la Educación Media Superior” el cual es la única encuesta en este país para intertar entender cuál es la razón de la deserción escolar. Consiste en 13,014 entrevistas realizadas a 6,472 mujeres y 6,542 hombres, de estas entrevistas 4,770 jóvenes nunca se matricularon en el nivel medio superior y 2,549 desertaron; el resto, 5,686 continúan estudiando o concluyeron este nivel. Cobertura geográfica. La cobertura geográfica es representativa a nivel nacional de viviendas particulares en localidades con más de 500 habitantes. Periodo de referencia. Del 25 de junio al 30 de julio de 2011. Población de Interés. Existen una población de interés y 3 subpoblaciones. 1. Los desertores: aquellos jóvenes que iniciaron la Educación Media Superior y al momento de la entrevista no la habían concluido ni se encontraban realizando estudios para concluir este nivel educativo. 2. Los no desertores: aquellos estudiantes que iniciaron la Educación Media Superior y al momento de la entrevista: a) ya la habían terminaron, o b) no la habían terminado pero seguían estudiando para completarla. 3. Los no matriculados: aquellos jóvenes que al momento de la entrevista no estaban inscritos en la Educación Media Superior, ya sea porque seguían estudiando y todavía no terminaban la secundaria o porque no estaban estudiando y abandonaron sus estudios en algún momento anterior a la media superior. El tamaño de muestra se fijó en 2,000 desertores, para lo cual se estimó necesario visitar 44,000 viviendas. De esta forma, se aprovechó también el número de visitas para recabar informacíon de jóvenes que nunca se inscribieron a la Educación Media Superior, ya sea porque seguían estudiando la secundaria, porque desertaron del sistema educativo mientras estudiaban la Educación Básica o porque concluyeron ese nivel y no transitaron al siguiente. El esquema de muestreo fue probabilista, estratificado, por conglomerados y polietáptico. La población objetivo de la ENDEMS estuvo compuesta por jóvenes, hombres y mujeres, de entre 14 y 25 años de edad que residían permanentemente en viviendas particulares ubicadas en localidades con más de 500 habitantes dentro del territorio nacional. La ENDEMS es la primera encuesta que se levanta en México específicamente sobre deserción en la Educación Media Superior y que es representativa a nivel nacional. "],["introducción.html", "1 Introducción", " 1 Introducción Para entender el objeto de este estudio es necesario que demos una descripción muy precisa de lo que es la deserción escolar. Deserción escolar “el total de alumnos que abandonan las actividades escolares antes de concluir un grado o nivel educativo” Es decir, para cuantificar la deserción, se deberá contabilizar a los individuos que ya una vez inscritos en algún grado escolar, abandonan los estudios parcial o completamente. 1 De esta manera la Deserción escolas total se puede calcular como la suma de la deserción intercurricular y la deserción intracurricular. La deserción intracurricular se refiere al abandono escolar que se presenta en el interior de un ciclo escolar; es decir, mientras el programa de estudios se está desarrollando. En esta vertiente, el alumno no concluye el ciclo escolar al que se inscribió. En cambio, la deserción intercurricular se presenta en el intermedio de dos ciclos escolares; es decir, ocurre cuando un alumno concluye un ciclo escolar y no se inscribe al siguiente, independientemente de si aprobó o no. De manera general para el caso Mexicano se puede observar el siguiente escenario: De 100 alumnos inscritos en primaria, 60 concluyeron la secundaria, y 36 terminaron el bachillerato. En términos prácticos un desertor es: “Aquella persona que inició el grado o el nivel educativo correspondiente, no lo concluyó y no se encuentra realizando estudios para alcanzar dicha conclusión” "],["carga-de-datos.html", "2 Carga de Datos", " 2 Carga de Datos Este apartado carga los datos y examina los principales estadísticos que se presentaron en la encuesta. Lo primero que se tuvo que hacer fue modificar la encuesta ya que su unidad básica era el hogar, por ello se tuvieron que trabajar los datos para colocarlos por población objetivo, es decir aquelos jóvenes entre 14 y 21 años que habìna deseratdo de la educación media superior. Al hacer esto nos encotramos con una base de 12,317 adolescentes que fueron entrevistados (diferentes a las 13,014 viviendas en las que se habia aplicado la encuesta) # Es importante que se habra con el encoding porque corrige los acentos. encuesta &lt;- readRDS(&quot;./Data/encuesta.rds&quot;) Una vez cargada la encuesta, encontramos que no estaba codificada por ello, tomamos todos los datos y construimos los factores, haciendo más manejable la encuesta, cabe señalar que esta parte del trabajo tomó mucho tiempo ya que se codificaron las variables a factores. Como puede ver a continuación algunos de los nombres de las columnas eran de clase “haven_labelled” por esta razón se procedió a cambiarlos a factor junto con otras, 114 variables. head(encuesta,4) ## # A tibble: 4 × 127 ## folio edo muni loca ageb f7 edad sexo ins ultimo actual f20h ## &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;fct&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+lb&gt; &lt;dbl&gt; ## 1 4 Ags Agua… 1 0799 4 14 &quot; Mu… 2 [ No] 3 [ Se… -1 9 ## 2 7 Ags Agua… 1 0799 2 17 &quot; Mu… 1 [ Si] 5 [ Ba… 3 [ De… 11 ## 3 203 Ags Agua… 1 0799 1 21 &quot; Ho… 1 [ Si] 4 [ Pr… 3 [ De… 10 ## 4 217 Ags Agua… 1 0799 1 16 &quot; Ho… 1 [ Si] 4 [ Pr… 3 [ De… 16 ## # … with 115 more variables: f20m &lt;dbl&gt;, f21 &lt;dbl+lbl&gt;, p1 &lt;dbl+lbl&gt;, ## # p2m &lt;dbl+lbl&gt;, p2a &lt;dbl+lbl&gt;, p4 &lt;dbl+lbl&gt;, p5 &lt;dbl&gt;, p6 &lt;fct&gt;, p7 &lt;fct&gt;, ## # p8 &lt;dbl+lbl&gt;, p9_1 &lt;fct&gt;, p9_2 &lt;fct&gt;, p9_3 &lt;fct&gt;, p9_4 &lt;fct&gt;, p9_5 &lt;fct&gt;, ## # p9_6 &lt;fct&gt;, p9_7 &lt;fct&gt;, p9_8 &lt;fct&gt;, p9_9 &lt;fct&gt;, p9_10 &lt;fct&gt;, p9_11 &lt;fct&gt;, ## # p9_12 &lt;fct&gt;, p9ot &lt;dbl+lbl&gt;, p11_1 &lt;dbl+lbl&gt;, p11_2 &lt;dbl+lbl&gt;, ## # p11_3 &lt;dbl+lbl&gt;, p12_1 &lt;fct&gt;, p12_2 &lt;fct&gt;, p12_3 &lt;fct&gt;, p12_4 &lt;fct&gt;, ## # p12_5 &lt;fct&gt;, p12_6 &lt;fct&gt;, p12_7 &lt;fct&gt;, p12_8 &lt;fct&gt;, p12_9 &lt;fct&gt;, … class(encuesta$ins) ## [1] &quot;haven_labelled&quot; &quot;vctrs_vctr&quot; &quot;double&quot; Observamos que algunos valores venían vacíos por eso usamos la siguiente fórmula para imputar el promedio a 3 variables seleccionadas. # Imputar promedio en variables numéricas mutate_at(vars(p5,p10,p15), funs(ifelse(is.na(.), round(mean(., na.rm = TRUE),1), .))) "],["estadísticos-descriptivos-del-abandono-escolar.html", "3 Estadísticos descriptivos del Abandono Escolar 3.1 Variables claramente importantes (hipótesis):", " 3 Estadísticos descriptivos del Abandono Escolar Empezaremos este ejercicio dividiendo nuestra encuesta, en dos set de datos uno para el entrenamiento y otro para la prueba, por ese motivo decidimos separa la base usando un muestreo estratificado debido a que las muestra no es balanceada. Decidimos guardar 20% como datos de prueba, siendo 2,464 y usar el restante 9,853 como datos de entrenamiento, de estos usar el 20% de los datos de entrenamiento para hacer validación, quedando como sigue: Division Total Porcentaje Prueba 2,464 20% Entrenamiento 9,853 80% Total 12,317 100% Posteriormente la muestra de entrenamiento se subdivide, para crear espacio para la muestra de validación. Division Total Porcentaje Entrenamiento 7,882 80% Validación 1,971 20% Total 9,853 100% &lt;7882/1971/9853&gt; set.seed(2021) encuesta_part_inicial &lt;- initial_split(encuesta, strata = desertor, prop = 0.80) encuesta_total &lt;- training(encuesta_part_inicial) encuesta_part_val &lt;- validation_split(encuesta_total, prop = 0.80) encuesta_part_val$splits ## [[1]] ## &lt;Training/Validation/Total&gt; ## &lt;7882/1971/9853&gt; 3.0.1 Limpieza, exploración y análisis conceptual Primero vamos a establecer que la variable desertor es la que estamos buscando, esta toma dos valores, 1 si el estudiante desertó y 0 si no lo hizo. Podemos observar que se cuenta con 32% de desertores y 68% no desertores en la encuesta. set.seed(2021) entrena &lt;- training(encuesta_part_val$splits[[1]]) nrow(entrena) ## [1] 7882 entrena%&gt;% count(desertor) %&gt;% mutate(pcn = round(n / sum(n),2)) ## # A tibble: 2 × 3 ## desertor n pcn ## &lt;fct&gt; &lt;int&gt; &lt;dbl&gt; ## 1 desertor 2534 0.32 ## 2 no_desertor 5348 0.68 3.0.2 Resumen general library(skimr) skim(entrena) Table 3.1: Data summary Name entrena Number of rows 7882 Number of columns 127 _______________________ Column type frequency: character 35 factor 83 numeric 9 ________________________ Group variables None Variable type: character skim_variable n_missing complete_rate min max empty n_unique whitespace ageb 0 1 4 4 0 419 0 ins 0 1 1 1 0 2 0 ultimo 0 1 1 2 0 9 0 actual 0 1 1 2 0 5 0 f21 0 1 1 1 0 2 0 p1 0 1 1 1 0 5 0 p2m 0 1 1 2 0 13 0 p2a 0 1 4 4 0 14 0 p4 0 1 2 3 0 97 0 p8 0 1 1 2 0 4 0 p9ot 0 1 2 3 0 70 0 p11_1 0 1 1 2 0 15 0 p11_2 0 1 1 2 0 15 0 p11_3 0 1 1 2 0 15 0 p12_5cts 0 1 1 2 0 18 0 p12_6cts 0 1 1 2 0 16 0 p12_7cts 0 1 1 2 0 8 0 p12_8cts 0 1 1 2 0 6 0 p12_10ts 0 1 1 2 0 9 0 p13_1 0 1 1 1 0 5 0 p13_2 0 1 1 1 0 5 0 p13_3 0 1 1 1 0 5 0 p13_4 0 1 1 1 0 5 0 p13_5 0 1 1 1 0 5 0 p13_6 0 1 1 1 0 5 0 p13_7 0 1 1 1 0 5 0 p19 0 1 1 2 0 37 0 p23_1cts 0 1 1 2 0 26 0 p23_2cts 0 1 1 2 0 9 0 p29 0 1 1 2 0 6 0 p30 0 1 2 5 0 77 0 id 0 1 16 16 0 6045 0 cedo 0 1 2 2 0 32 0 cmuni 0 1 3 3 0 124 0 cedo_muni 0 1 5 5 0 316 0 Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts edo 0 1 FALSE 32 Mex: 1034, CDM: 631, Ver: 609, Sin: 485 muni 0 1 FALSE 312 Eca: 227, Mér: 224, Cul: 178, Izt: 167 sexo 0 1 FALSE 2 Mu: 3945, Ho: 3937 p6 0 1 FALSE 9 Pú: 7119, Pr: 478, In: 196, No: 50 p7 0 1 FALSE 5 Ni: 6900, Un: 476, Do: 424, Tr: 66 p9_1 0 1 FALSE 2 No: 7076, Sí: 806 p9_2 0 1 FALSE 2 No: 6510, Sí: 1372 p9_3 0 1 FALSE 2 No: 6372, Sí: 1510 p9_4 0 1 FALSE 2 No: 6486, Sí: 1396 p9_5 0 1 FALSE 2 No: 7791, Sí: 91 p9_6 0 1 FALSE 2 No: 7559, Sí: 323 p9_7 0 1 FALSE 2 No: 7650, Sí: 232 p9_8 0 1 FALSE 2 No: 7835, Sí: 47 p9_9 0 1 FALSE 2 No: 6942, Sí: 940 p9_10 0 1 FALSE 2 No: 7619, Sí: 263 p9_11 0 1 FALSE 2 No: 7247, Sí: 635 p9_12 0 1 FALSE 2 No: 7650, Sí: 232 p12_1 0 1 FALSE 2 No: 7759, Si: 123 p12_2 0 1 FALSE 2 Si: 7260, No: 622 p12_3 0 1 FALSE 2 Si: 6540, No: 1342 p12_4 0 1 FALSE 2 No: 7635, Si: 247 p12_5 0 1 FALSE 2 Si: 6181, No: 1701 p12_6 0 1 FALSE 2 No: 6826, Si: 1056 p12_7 0 1 FALSE 2 No: 7831, Si: 51 p12_8 0 1 FALSE 2 No: 7802, Si: 80 p12_9 0 1 FALSE 2 No: 7797, Si: 85 p12_10 0 1 FALSE 2 No: 7821, Si: 61 p14 0 1 FALSE 5 Si: 4566, T: 2735, Fa: 429, Fa: 94 p16 0 1 FALSE 5 Al: 3779, Nu: 3015, Re: 841, Re: 178 p17 0 1 FALSE 6 [E: 3019, Mi: 2720, Mi: 1213, M: 744 p18 0 1 FALSE 3 No: 6328, Si: 1513, NS: 41 p23_1 0 1 FALSE 2 NO: 4172, SI: 3710 p23_2 0 1 FALSE 2 NO: 6930, SI: 952 p25_1 0 1 FALSE 5 -1: 4882, No: 1441, Pr: 1181, Se: 253 p25_2 0 1 FALSE 5 -1: 4882, No: 2693, Se: 154, Pr: 90 p25_3 0 1 FALSE 5 -1: 4882, No: 2650, Pr: 211, Se: 109 p25_4 0 1 FALSE 5 -1: 4882, No: 2506, Pr: 211, Se: 177 p25_5 0 1 FALSE 5 -1: 4882, No: 2878, Pr: 50, Se: 47 p25_6 0 1 FALSE 5 -1: 4882, No: 2469, Se: 266, Pr: 145 p25_7 0 1 FALSE 5 -1: 4882, No: 2477, Se: 252, Te: 176 p25_8 0 1 FALSE 5 -1: 4882, No: 2734, Se: 125, Te: 102 p25_9 0 1 FALSE 5 -1: 4882, No: 2888, Se: 48, Te: 34 p25_10 0 1 FALSE 5 -1: 4882, No: 2838, Se: 76, Te: 59 p25_11 0 1 FALSE 5 -1: 4882, No: 2731, Te: 135, Se: 94 p25_12 0 1 FALSE 5 -1: 4882, No: 2894, Te: 54, Se: 36 p25_13 0 1 FALSE 5 -1: 4882, No: 2766, Se: 101, Te: 76 p25_14 0 1 FALSE 5 -1: 4882, No: 2687, Pr: 156, Se: 121 p25_15 0 1 FALSE 5 -1: 4882, No: 2928, Te: 32, Se: 23 p25_16 0 1 FALSE 5 -1: 4882, No: 2898, Te: 49, Se: 37 p25_17 0 1 FALSE 5 -1: 4882, No: 2840, Te: 63, Pr: 51 p25_18 0 1 FALSE 5 -1: 4882, No: 2638, Pr: 198, Se: 108 p25_19 0 1 FALSE 5 -1: 4882, No: 2889, Te: 65, Se: 27 p25_20 0 1 FALSE 5 -1: 4882, No: 2882, Te: 70, Se: 31 p25_21 0 1 FALSE 5 -1: 4882, No: 2926, Se: 35, Te: 28 p25_22 0 1 FALSE 5 -1: 4882, No: 2903, Te: 62, Se: 23 p25_23 0 1 FALSE 5 -1: 4882, No: 2899, Pr: 59, Se: 27 p27 0 1 FALSE 3 No: 5839, Sí: 2025, NS: 18 p39 0 1 FALSE 14 3: 2644, 2: 2534, 4: 1105, 1: 594 p40_1 0 1 FALSE 2 Si: 7717, No: 165 p40_2 0 1 FALSE 2 Si: 6217, No: 1665 p40_3 0 1 FALSE 2 Si: 7331, No: 551 p40_4 0 1 FALSE 2 Si: 7507, No: 375 p40_5 0 1 FALSE 2 No: 6839, Si: 1043 p40_6 0 1 FALSE 2 Si: 6098, No: 1784 p40_7 0 1 FALSE 2 No: 4788, Si: 3094 p40_8 0 1 FALSE 2 Si: 4400, No: 3482 p40_9 0 1 FALSE 2 No: 4199, Si: 3683 p40_10 0 1 FALSE 2 Si: 7113, No: 769 p40_11 0 1 FALSE 2 Si: 4364, No: 3518 p40_12 0 1 FALSE 2 No: 4974, Si: 2908 p40_13 0 1 FALSE 2 Si: 7077, No: 805 p40_14 0 1 FALSE 2 No: 6717, Si: 1165 p40_15 0 1 FALSE 2 No: 4622, Si: 3260 p41a 0 1 FALSE 5 No: 5757, Un: 856, Má: 548, Un: 366 p41b 0 1 FALSE 5 No: 5246, Un: 1442, Do: 773, Un: 319 p41c 0 1 FALSE 5 No: 7657, Un: 127, Má: 40, Do: 37 p41d 0 1 FALSE 5 No: 7817, Un: 50, Do: 9, Un: 3 p41e 0 1 FALSE 4 No: 7855, Un: 25, Do: 1, Un: 1 p41f 0 1 FALSE 5 No: 7832, Un: 37, Do: 6, Má: 4 p41g 0 1 FALSE 4 No: 7820, Un: 50, Do: 8, Má: 4 p41h 0 1 FALSE 5 No: 7844, Un: 34, Do: 2, Un: 1 p41i 0 1 FALSE 5 No: 7819, Un: 46, Do: 10, Má: 5 desertor 0 1 FALSE 2 no_: 5348, des: 2534 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist folio 0 1 127.50 93.79 1 39.0 94.0 215.0 902 ▇▆▁▁▁ loca 0 1 26.56 135.08 1 1.0 1.0 1.0 1799 ▇▁▁▁▁ f7 0 1 1.91 1.01 1 1.0 2.0 2.0 7 ▇▂▁▁▁ edad 0 1 18.89 2.90 14 17.0 18.0 21.0 25 ▇▇▆▅▅ f20h 0 1 13.36 3.01 7 11.0 13.0 16.0 23 ▅▇▇▃▁ f20m 0 1 25.80 17.66 0 10.0 25.0 40.0 59 ▇▅▆▅▅ p5 0 1 8.27 0.74 6 7.9 8.3 8.8 10 ▁▃▇▆▂ p15 0 1 8.14 0.76 3 7.9 8.1 8.6 10 ▁▁▂▇▃ p10 0 1 29.92 19.84 0 15.0 30.0 40.0 150 ▇▂▁▁▁ 3.0.3 ¿El género influye? En la siguiente tabla puede ver que parecen ser números muy similares, es decir, se observa que mientras el 33% de los hombres desertan, el 31% de las mujeres lo hacen. Incluso pensaría que el porcentaje de mujeres que sería superior pero los datos indican lo cotrario, la tasa de deserción de mujeres es ligeramente menor que la de los hombres. entrena %&gt;% select(sexo, desertor) %&gt;% group_by(sexo, desertor) %&gt;% tally() %&gt;% mutate(pcn = round(n/sum(n),2)) ## # A tibble: 4 × 4 ## # Groups: sexo [2] ## sexo desertor n pcn ## &lt;fct&gt; &lt;fct&gt; &lt;int&gt; &lt;dbl&gt; ## 1 &quot; Hombre&quot; desertor 1332 0.34 ## 2 &quot; Hombre&quot; no_desertor 2605 0.66 ## 3 &quot; Mujer&quot; desertor 1202 0.3 ## 4 &quot; Mujer&quot; no_desertor 2743 0.7 3.0.4 Entendiendo la Edad Se puede observar un aumento de la deserción conforme aumenta la edad. Esto es comprenseible, porque conforme pasan los años, las personas tienen menos oportunidades de regresar a continuar con sus estudios. entrena %&gt;% select(edad, desertor) %&gt;% group_by(edad, desertor) %&gt;% tally() %&gt;% mutate(pcn = round(n/sum(n),2)) %&gt;% ggplot(aes(factor(edad), pcn, fill = desertor)) + geom_col(position = &quot;dodge&quot;) + scale_y_continuous(labels = scales::percent_format()) datos_entrena &lt;- entrena %&gt;% select(edad, desertor) %&gt;% group_by(edad, desertor) %&gt;% tally() %&gt;% mutate(pcn = round(n/sum(n),2)) 3.1 Variables claramente importantes (hipótesis): Sexo Promedio en la secundaria (p5) Tipo de secundaria a la que asistió (p6) Te cambiaste de escuela (p7) En qué tipo de institución estudiaste (p8) Cuanto tiempo haces a la escuela (p10) ¿Con quien vives? (P12_1:P12_10) ¿Que tanto asistes a tus clases? (p14) Tener hijos Consumo de Drogas 3.1.0.1 Promedio Secundaria tabla_univariada &lt;- function(datos, variable, target){ datos %&gt;% count({{ variable }}, {{ target }}) %&gt;% group_by({{ variable }}) %&gt;% mutate(prop = n / sum(n)) %&gt;% mutate(pcn = round(prop, 2)) } tabla_univariada(entrena, p5, desertor) %&gt;% ggplot(aes(p5, pcn, fill = desertor)) + geom_col(position = &quot;dodge&quot;) + ggtitle(&quot;Promedio Secundaria&quot;) entrena %&gt;% select(sexo, desertor, p5) %&gt;% group_by(sexo, desertor) %&gt;% ggplot(aes(p5, sexo, fill = desertor)) + geom_boxplot() + ggtitle(&quot;Promedio Secundaria&quot;) #### Pública o Privada Se observa que si la educación es privada la probabilidad de deserción es \\(18\\%\\), mientras que si es pública es \\(33\\%\\). entrena %&gt;% select(p6, desertor) %&gt;% filter(p6 == &#39; Pública&#39; | p6 == &#39; Privada&#39;) %&gt;% group_by(p6, desertor) %&gt;% tally() %&gt;% mutate(pcn = round(n/sum(n),2)) ## # A tibble: 4 × 4 ## # Groups: p6 [2] ## p6 desertor n pcn ## &lt;fct&gt; &lt;fct&gt; &lt;int&gt; &lt;dbl&gt; ## 1 &quot; Pública&quot; desertor 2345 0.33 ## 2 &quot; Pública&quot; no_desertor 4774 0.67 ## 3 &quot; Privada&quot; desertor 85 0.18 ## 4 &quot; Privada&quot; no_desertor 393 0.82 3.1.0.2 Cuantos minutos haces para llegar a la escuela La distancia NO parece ser un factor importante. Para que vayan o no a la escuela, independientemente del sexo. entrena %&gt;% select(sexo, desertor, p10, ) %&gt;% group_by(sexo, desertor) %&gt;% ggplot(aes(p10, sexo, fill = desertor)) + geom_boxplot() 3.1.0.3 ¿Con quien vives? (P12_1:P12_10) tabla_univariada(entrena, p12_1, desertor) %&gt;% ggplot(aes(p12_1, pcn, fill = desertor)) + geom_col(position = &quot;dodge&quot;) + ggtitle(&quot;¿Vives solo?&quot;) tabla_univariada(entrena, p12_8, desertor) %&gt;% ggplot(aes(p12_8, pcn, fill = desertor)) + geom_col(position = &quot;dodge&quot;) + ggtitle(&quot;¿Vives con tus hijos?&quot;) tabla_univariada(entrena, p12_9, desertor) %&gt;% ggplot(aes(p12_9, pcn, fill = desertor)) + geom_col(position = &quot;dodge&quot;) + ggtitle(&quot;¿Vives con esposo(a) o pareja?&quot;) ##### ¿Si eres mujer y vives con tus hijo es lo mismo que si eres hombre? entrena %&gt;% select(sexo, p12_9, desertor) %&gt;% filter(sexo == &quot; Mujer&quot;) %&gt;% group_by(p12_9, desertor) %&gt;% tally() %&gt;% mutate(pcn = round(n/sum(n),2)) %&gt;% ggplot(aes(p12_9, pcn, fill = desertor)) + geom_col(position = &quot;dodge&quot;) + ggtitle(&quot;Mujer: ¿Vives con tus hijos?&quot;) entrena %&gt;% select(sexo, p12_9, desertor) %&gt;% filter(sexo == &quot; Hombre&quot;) %&gt;% group_by(p12_9, desertor) %&gt;% tally() %&gt;% mutate(pcn = round(n/sum(n),2)) %&gt;% ggplot(aes(p12_9, pcn, fill = desertor)) + geom_col(position = &quot;dodge&quot;) + ggtitle(&quot;Hombre: ¿Vives con tus hijos?&quot;) 3.1.0.4 ¿Qué tanto asistias a tus clases? tabla_univariada(entrena, p14, desertor) %&gt;% ggplot(aes(p14, pcn, fill = desertor)) + geom_col(position = &quot;dodge&quot;) + ggtitle(&quot;¿Qué tanto faltabas a clase?&quot;) + scale_x_discrete(guide = ggplot2::guide_axis(n.dodge = 2), labels = function(x) stringr::str_wrap(x, width = 20)) "],["preprocesamiento-e-ingenieria-de-entradas.html", "4 Preprocesamiento e ingenieria de entradas:", " 4 Preprocesamiento e ingenieria de entradas: Usaremos una receta más simple (no necesariamente tenemos que poner interacciones, categorización de entradas, transformaciones no lineales): receta &lt;- recipe(desertor ~ edo + muni + edad + sexo + p5 + p6 + p7 + p9_1 + p9_2 + p9_3 + p9_4 + p9_5 + p9_6 + p9_7 + p9_8 + p9_9 +p9_10 + p9_11 + p9_12 + p10 + p12_1 + p12_2 + p12_3 + p12_4 + p12_5 + p12_6 + p12_7 + p12_8 + p12_9 + p12_10 + p14 + p15 + p16 + p17 + p18 + p23_1 + p23_2 + p25_1 + p25_2 + p25_3 + p25_4 + p25_5 + p25_6 + p25_7 + p25_8 + p25_9 + p25_10 + p25_11 + p25_12 + p25_13 + p25_14 + p25_15 + p25_16 + p25_17 +p25_18 + p25_19 + p25_20 + p25_21 + p25_22 + p25_23 + p27 + p39 + p40_1 + p40_2 + p40_3 + p40_4 + p40_5 + p40_6 + p40_7 + p40_8 + p40_9 + p40_10 + p40_11 + p40_12 + p40_13 + p40_14 + p40_15 + p41a + p41b + p41c + p41d + p41e + p41f+ p41g + p41h + p41i, data = entrena) %&gt;% step_dummy(all_nominal_predictors()) %&gt;% step_zv(all_predictors()) #step_zv remove variables that contain only a single value. Dimensión de los datos: prep(receta, entrena) %&gt;% juice() %&gt;% dim() ## [1] 7882 555 Empezamos con parámetros más o menos default modelo_boosting &lt;- boost_tree(learn_rate = 0.1, trees = 3000, mtry = 5, tree_depth = 3, sample_size = 0.8) %&gt;% set_mode(&quot;classification&quot;) %&gt;% set_args(objective = &quot;binary:logistic&quot;) flujo &lt;- workflow() %&gt;% add_recipe(receta) %&gt;% add_model(modelo_boosting) flujo_fit &lt;- fit(flujo, entrena) ## [13:13:22] WARNING: amalgamation/../src/learner.cc:1115: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective &#39;binary:logistic&#39; was changed from &#39;error&#39; to &#39;logloss&#39;. Explicitly set eval_metric if you&#39;d like to restore the old behavior. ajuste_xgboost &lt;- flujo_fit %&gt;% extract_fit_engine() %&gt;% pluck(&quot;evaluation_log&quot;) %&gt;% as_tibble() ggplot(ajuste_xgboost, aes(x=iter, y = training_logloss)) + geom_line() valida &lt;- testing(encuesta_part_val$splits[[1]]) preds_val &lt;- predict(flujo_fit, valida, type = &quot;prob&quot;) |&gt; bind_cols(valida |&gt; select(desertor)) mis_metricas &lt;- metric_set(mn_log_loss, roc_auc) mis_metricas(preds_val, truth = factor(desertor), .estimate = .pred_desertor, event_level = &quot;first&quot;) ## # A tibble: 2 × 3 ## .metric .estimator .estimate ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 mn_log_loss binary 0.116 ## 2 roc_auc binary 0.987 preds_entrena &lt;- predict(flujo_fit, entrena, type = &quot;prob&quot;) %&gt;% bind_cols(entrena %&gt;% select(desertor)) mis_metricas &lt;- metric_set(mn_log_loss, roc_auc) mis_metricas(preds_entrena, truth = factor(desertor), .estimate = .pred_desertor, event_level = &quot;first&quot;) ## # A tibble: 2 × 3 ## .metric .estimator .estimate ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 mn_log_loss binary 0.0724 ## 2 roc_auc binary 0.996 ggplot(preds_val, aes(x = .pred_desertor, fill = factor(desertor))) + geom_histogram() 4.0.1 Preparar solución "],["no-sé-como-hacer-esto.html", "5 NO sé como hacer esto", " 5 NO sé como hacer esto encuesta_test &lt;- testing(encuesta_part_inicial) preds_prueba_sol &lt;- predict(flujo_fit, encuesta_test, type=&quot;prob&quot;) %&gt;% bind_cols(encuesta_test %&gt;% select(desertor)) %&gt;% select(desertor, prob = .pred_desertor) ### No sale #mis_metricas(preds_prueba_sol, truth = factor(desertor), .estimate = #.pred_desertor, event_level = &quot;first&quot;) Resultados: Esto modelo logra un score de 0.385 Afina para llegar a 0.375, que fue el score ganador del concurso. Lineamientos para la elaboración de indicadores educativos↩︎ "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
